<!-- EDITAR PERFIL USUARIO -->
<!-- Título de la página -->
<div class="titulo">
    <h1 style="margin-top: 5%; margin-left: 50px;">Editar perfil</h1>
</div>
<div class="contenedor" style="margin-left: 50px; margin-top:20px;">
    <!-- Página para adoptante -->
        
        <form action="../../form-result.php" method="put" enctype="multipart/form-data" target="_blank" #editarPerfil="ngForm" (ngSubmit)="onSubmit(editarPerfil)">
             
            <div class="row"> 
                 <!--Input nombre-->
                  <div class="col">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text"  class="redondeado" name="nombre" [(ngModel)]="usuario.nombre" #nombre="ngModel" placeholder="Nombre"
                        [ngClass]="{'is-invalid': editarPerfil.submitted && nombre.invalid}" required>
                        <div class="invalid-feedback" *ngIf="editarPerfil.submitted && nombre.invalid">
                            <p *ngIf="nombre.errors?.['required']">El nombre es obligatorio</p>
                           </div>
                    </div>
                  </div>
      
                   <!--Input Apellidos-->
                  <div class="col">
                    <div class="form-group">
                        <label>Apellidos</label>
                        <input type="text"  class="redondeado" name="apellidos" [(ngModel)]="usuario.apellidos" #apellidos="ngModel"  placeholder="Apellidos" 
                        [ngClass]="{'is-invalid': editarPerfil.submitted && apellidos.invalid}" required>
                        <div class="invalid-feedback" *ngIf="editarPerfil.submitted && apellidos.invalid">
                            <p *ngIf="apellidos.errors?.['required']">Los apellidos son obligarios</p>
                           </div>
                    </div>
                  </div> 
              

                   <!--Input fecha de nacimiento-->
                   <div class="col">
                    <div class="form-group">
                      <label for="start">Fecha de nacimiento:</label><br>
                      <input type="date" id="start" name="fechaNacimiento"  class="redondeado" style ="background-color: white;"
                             value=""
                             min="1900-01-01" max="2021-12-31"
                             [(ngModel)]="usuario.fechaNacimiento" #fechaNacimiento="ngModel"
                             [ngClass]="{'is-invalid': editarPerfil.submitted && fechaNacimiento.invalid}" required> 
                             <div class="invalid-feedback" *ngIf="editarPerfil.submitted && fechaNacimiento.invalid">
                                <p *ngIf="fechaNacimiento.errors?.['required']">Debes introducir una fecha de nacimiento válida</p>
                            </div>
                   </div>
                  </div>
            </div> 
      
      
                <div class="row">
                  <!--input telefono-->
                 
                   <div class="col">
                    <div class="form-group">
                        <label>Teléfono</label>
                        <input type="text"  class="redondeado" name="telefono" [(ngModel)]="usuario.telefono" #telefono="ngModel"  placeholder="Telefono" 
                        [ngClass]="{'is-invalid': editarPerfil.submitted && telefono.invalid}" required>
                        <div class="invalid-feedback" *ngIf="editarPerfil.submitted && telefono.invalid">
                            <p *ngIf="telefono.errors?.['required']">El teléfono es obligatoria</p>
                           </div>
                    </div>
                  </div>

                  <!-- localidad -->
                  <div class="col">
                    <div class="form-group">
                        <label>Localidad</label>
                        <input type="text"  class="redondeado" name="localidad" [(ngModel)]="usuario.localidad" #localidad="ngModel"  placeholder="Localidad" 
                        [ngClass]="{'is-invalid': editarPerfil.submitted && localidad.invalid}" required>
                        <div class="invalid-feedback" *ngIf="editarPerfil.submitted && localidad.invalid">
                            <p *ngIf="localidad.errors?.['required']">La localidad es obligatoria</p>
                           </div>
                    </div>
                  </div>

                  <!-- direccion -->
                  <div class="col">
                    <div class="form-group">
                        <label>Dirección</label>
                        <input type="text"  class="redondeado" name="direccion" [(ngModel)]="usuario.direccion" #direccion="ngModel"  placeholder="Direccion" 
                        [ngClass]="{'is-invalid': editarPerfil.submitted && direccion.invalid}" required>
                        <div class="invalid-feedback" *ngIf="editarPerfil.submitted && direccion.invalid">
                            <p *ngIf="direccion.errors?.['required']">La dirección es obligatoria</p>
                           </div>
                    </div>
                  </div>
             
             
                                   
      
      
                  <!--url imagen-->
                  
                  <div class="col-sm-8" style="margin-top: 20px;">
                    <div class="form-group">
                       <label>Url imagen </label><br>
                    <input type="text"  class="redondeado" name="imagen" [(ngModel)]="usuario.imagenPerfil" #imagen="ngModel" placeholder="url imagen" 
                    [ngClass]="{'is-invalid': editarPerfil.submitted && imagen.invalid}" required>
                    <div class="invalid-feedback" *ngIf="editarPerfil.submitted && imagen.invalid">
                     <p *ngIf="imagen.errors?.['required']">La imagen es obligatoria</p>
                    </div>
                </div>
            </div>
          </div> 
                 
      
                <div class="row"> 
                     <!--Textarea detalles-->
                    <div class="col" style="margin-top: 20px;">
                  <label>Descripcion</label><br>
                  <textarea class="form-control" id="descripcion" name="descripcion" [(ngModel)]="usuario.descripcion" #descripcion="ngModel" placeholder="Descripción" 
                   [ngClass]="{'is-invalid': editarPerfil.submitted && descripcion.invalid}" required></textarea>
                   <div class="invalid-feedback" *ngIf="editarPerfil.submitted && descripcion.invalid">
                    <p *ngIf="descripcion.errors?.['required']">La descripción es obligatoria</p>
                   </div>
                </div>   
            </div>
       
    

      
      <!--Botones-->
      <div style="display: flex; justify-content: center; gap:40px">
      <button class="btn btn-primary btn-block"  id="botonEnviar">Guardar</button>
         <div class="form-group" id="contenedor-boton">
            
             <button type="button" id="botonEliminar" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Eliminar cuenta
           
            </button>
        </div>
       </div>
     <!-- </form>  -->
    <!-- </div> -->

 <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content" style="border-radius: 1em;">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">¿Seguro que quieres eliminar tu cuenta?</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                        Si eliminas la cuenta perderás toda la información que tengas y no podrás recuperarla
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="botonCancelar" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" class="btn btn-danger" id="botonEliminar">Eliminar cuenta</button>
                        </div>
                    </div>
                </div>
            </div>
    <!-- </div>  -->